{% extends "base.html" %}
{% load static %}

{% block content %}
	<h1>Report</h1>
    <h1>Current Cycle</h1>
    {% if not current_cycle %}
    <h1>No Active Cycle</h1>
    {% else %}
        <p>Start Time: {{ current_cycle.start_time }}</p>
        <p>End Time: {{ current_cycle.end_time }}</p>
        <p>Time Remaining: <span id="time-remaining"></span></p>

        <h1>Dates</h1>
        {% for date in dates %}
            <p>{{date.title}} - {{date.date}}</p>
        {% endfor %}

        <h1>Events</h1>
        {% for event in events %}
            <p>{{event.title}} - {{event.date}}</p>
        {% endfor %}

        <h1>Day Register</h1>
        {% for day in days %}
            <h2>{{day.date}} - {{day.note}}</h2>
            <p>Day comment: {{day.comment}}</p>
            {% for work_session in day.get_sessions_within_day %}
                <p>{{work_session.duration}} ({{work_session.start_time}} - {{work_session.end_time}})</p>
                {% for task in work_session.get_completed_task %}
                    <p>Task {{task.title}}</p>
                    <p>a</p>
                {% endfor %}
            {% endfor %}
        {% endfor %}

        <h1>Completed Tasks</h1>

        {% for task in current_cycle.get_completed_tasks %}
            
            <h3>{{task.milestone.title}}</h3>
            <p>{{task.title}}</p>

        {% endfor %}
    {% endif %}
    
{% endblock %}


{% block extend_footer %}
<script>
</script>

var end_time_str = "{{ current_cycle.end_time|date:'c' }}";
{%endblock%}






